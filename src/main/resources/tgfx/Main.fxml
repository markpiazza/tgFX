<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/2.2" minWidth="1280.0" fx:controller="tgfx.MainController">
    <stylesheets>
        <URL value="@main.css"/>
    </stylesheets>
    <BorderPane VBox.vgrow="ALWAYS">
        <top>
            <HBox alignment="CENTER" maxHeight="35.0" minHeight="35.0" prefHeight="35.0">
                <AnchorPane id="topAnchorPane" HBox.hgrow="ALWAYS">
                    <padding>
                        <Insets right="5.0"/>
                    </padding>
                    <HBox alignment="CENTER" spacing="5"
                          AnchorPane.bottomAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
                        <Label id="serialTitleLabel" text="Serial Ports: " alignment="CENTER_RIGHT" HBox.hgrow="ALWAYS"/>
                        <ChoiceBox fx:id="serialPorts" focusTraversable="false" minHeight="21.0" minWidth="120.0" HBox.hgrow="ALWAYS"/>
                        <Button fx:id="connectBtn" text="Connect" focusTraversable="false" onAction="#handleConnect"/>
                        <Button text="Re-Scan" focusTraversable="false" onAction="#handleRescanSerial"/>
                    </HBox>
                    <Text id="tgfxTitleText" text="tgFX - TinyG Controller" layoutX="14.0" layoutY="22.0" fill="WHITE"/>
                </AnchorPane>
            </HBox>
        </top>


        <center>
            <TabPane fx:id="topTabPane" focusTraversable="false" side="RIGHT" BorderPane.alignment="CENTER">
                <fx:include fx:id="gcodeTab" source="ui/gcode/GcodeTab.fxml" />
                <fx:include fx:id="tinygConfigTab" source="ui/tinygconfig/TinyGConfig.fxml"/>
                <fx:include fx:id="machineSettingsTab" source="ui/machinesettings/MachineSettings.fxml" />
                <fx:include fx:id="tgfxSettingsTab" source="ui/tgfxsettings/TgfxSettings.fxml"/>
            </TabPane>
        </center>


        <bottom>
            <VBox fx:id="consoleVBox" id="consoleVBox" alignment="CENTER" prefHeight="120.0"
                  BorderPane.alignment="CENTER" spacing="5">
                <padding>
                    <Insets bottom="5.0" left="5.0" right="5.0" top="5.0"/>
                </padding>
                <TextArea fx:id="console" editable="false" focusTraversable="false"
                          maxHeight="300.0" minHeight="50.0" wrapText="true" VBox.vgrow="ALWAYS" prefHeight="75"/>

                <TextField fx:id="input" onKeyPressed="#handleKeyPress" prefHeight="40.0" promptText="TinyG&gt;"/>

                <FlowPane id="statusBar" alignment="CENTER" columnHalignment="CENTER" maxHeight="22.0"
                          minHeight="22.0" prefHeight="22.0" VBox.vgrow="ALWAYS">
                    <Label id="whiteFill" text="Gcode Block #"/>
                    <Label fx:id="srGcodeLine" alignment="CENTER" maxWidth="70.0" prefWidth="70.0" text="0"/>

                    <Separator orientation="VERTICAL"/>

                    <Label id="whiteFill" text="Units"/>
                    <Label fx:id="srUnits" alignment="CENTER" maxWidth="70.0" prefWidth="70.0" text="?"/>

                    <Separator orientation="VERTICAL"/>

                    <Label id="whiteFill" text="Ver"/>
                    <Label fx:id="srVer" alignment="CENTER" maxWidth="70.0" prefWidth="70.0" text="?"/>

                    <Separator orientation="VERTICAL"/>

                    <Label id="whiteFill" text="Build"/>
                    <Label fx:id="srBuild" alignment="CENTER" maxWidth="70.0" prefWidth="70.0" text="?"/>

                    <Separator orientation="VERTICAL"/>

                    <Label id="whiteFill" text="Motion Mode">
                        <FlowPane.margin>
                            <Insets left="5.0" right="5.0"/>
                        </FlowPane.margin>
                    </Label>
                    <Label fx:id="srMomo" alignment="CENTER" maxWidth="78.0" prefWidth="78.0" text="?">
                        <FlowPane.margin>
                            <Insets right="5.0"/>
                        </FlowPane.margin>
                    </Label>

                    <Separator orientation="VERTICAL"/>

                    <Label id="whiteFill" text="State">
                        <FlowPane.margin>
                            <Insets left="5.0"/>
                        </FlowPane.margin>
                    </Label>
                    <Label fx:id="srState" alignment="CENTER" prefWidth="55.0" text="?"/>

                    <Separator orientation="VERTICAL">
                        <FlowPane.margin>
                            <Insets right="20.0"/>
                        </FlowPane.margin>
                    </Separator>

                    <Label id="whiteFill" text="Coord System"/>
                    <Label fx:id="srCoord" alignment="CENTER" maxWidth="70.0" prefWidth="70.0" text="?"/>

                    <Separator orientation="VERTICAL"/>

                    <Label id="whiteFill" text="Buffer"/>
                    <Label fx:id="srBuffer" alignment="CENTER" maxWidth="70.0" prefWidth="70.0" text="?"/>
                </FlowPane>
            </VBox>
        </bottom>
    </BorderPane>
</VBox>